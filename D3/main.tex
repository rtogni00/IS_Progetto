% !TeX document-id = {87432cc9-c386-48dc-9558-b3c42a74a150}
% !TEX encoding = UTF-8
% !TEX TS-program = pdflatex
% !TEX spellcheck = it-IT
%% !TEX root = 
% !BIB TS-program = biber
% Comandi speciali (o righe magiche) trattati come commenti da Latex ma non da 
%editor come Texstudio e Texshop, che si impostano di conseguenza. In ordine:
% dichiara la codifica dei caratteri con cui impostare l'editor (bisogna 
%comunque caricare inputenc con la stessa codifica)
% dichiara il motore di composizione (pdflatex o lualatex)
% attiva il controllo ortografico della lingua del documento
% dichiara la condizione di file principale e di file secondario nei documenti 
%suddivisi in più file
% imposta biber come motore bibliografico

\documentclass[9pt]{extarticle}

\input{packages}



% ------------------------------------------------------------------------------
% Document
% ------------------------------------------------------------------------------


\begin{document}
\customtitle



% TODO add chapters
\tableofcontents
\newpage

\section{Scopo del Documento}

Il presente documento ha lo scopo di riportare le informazioni riguardanti lo
sviluppo di una parte dell'applicazione EvenTrento. Partendo dalle user stories,
il documento presenta un walk-throgh delle funzionalità effettivemente
implementate, con un focus sull'interazione dell'utente con queste ultime.
Prosegue dunque con la descrizione delle web APIs del'applicazione, nonché
della modalità di sviluppo collaborativo, del database e del testing delle varie
funzionalità.
Infine, viene presentato il front-end realizzato, accompagnato da una
descrizione della modalità di deployment utilizzata.

\newpage

\section{User Stories}

Le seguenti tabelle raccolgono una sere di User Stories divise in diverse epiche. Ad ogni user story è associata una priorità (ad un numero più piccolo corrisponde una priorità maggiore) rappresentante l'importanza della funzionalità in questione per l'operatività del sistema.

	
\begin{table}[!htb]
	\centering
	\begin{tabular}{clp{7cm}l} % Use 'p{7cm}' for the User Story column
		\toprule
		\multicolumn{4}{c}{\textbf{Profilo}}\\ \midrule
		Id & Nome & User Story & Priorità \\ \midrule
		A1  & Registrazione  & Come utente, voglio registrarmi per utilizzare il sistema & 1 \\
		A2  & Login & In qualità di utente, devo essere in grado di effettuare il login & 1 \\
		A3  & Visualizzazione profilo & Come utente, devo essere in grado di visualizzare lo storico eventi, le mie informazioni personali, e gli eventi salvati &  2\\
		\bottomrule
	\end{tabular}
	\caption{User stories relative all'epica "profilo".}
	\label{tab:profili}
\end{table}


\begin{table}[!htb]
	\centering
	\begin{tabular}{clp{7cm}l} % Use 'p{7cm}' for the User Story column
		\toprule
		\multicolumn{4}{c}{\textbf{Eventi}}\\ \midrule
		Id & Nome & User Story & Priorità \\ \midrule
		B1  & Lista eventi            & In qualità di utente, devo essere in grado di scorrere una lista di eventi                                               &  2\\
		B2  & Filtri eventi           & In qualità di utente, devo essere in grado di filtrare gli eventi in base alla data                                      &  2 \\
		B3  & Creazione evento        & In qualità di organizzatore, devo essere in grado di creare un nuovo evento in un determinato luogo                      &  2 \\
		B4  & Condivisione evento     & In qualità di utente, devo essere in grado di condividere un evento tramite link                                         &  4\\
		B5  & Pagamento               & In qualità di utente, devo essere in grado di effettuare il pagamento per un evento a cui voglio iscrivermi              & 2\\
		B6  & Aggiornamento evento    & In qualità di organizzatore, devo essere in grado di aggiornare la descrizione di un evento                              & 3\\
		B7  & Statistiche evento      & In qualità di organizzatore, devo essere in grado di visualizzare gli iscritti all'evento                                & 4\\
		B8  & Salvataggio evento      & In qualità di utente, devo essere in grado di salvare un evento in modo da poterlo visualizzare nella mia area personale & 3\\
		\bottomrule
	\end{tabular}
	\caption{User stories relative all'epica "eventi".}
	\label{tab:eventi}
\end{table}

\begin{table}[!htb]
	\centering
	\begin{tabular}{clp{7cm}l} % Use 'p{7cm}' for the User Story column
		\toprule
		\multicolumn{4}{c}{\textbf{Spazi}}\\ \midrule
		Id & Nome & User Story & Priorità \\ \midrule
		C1  & Aggiunta spazio  & In qualità di owner, devo essere in grado di pubblicare uno spazio disponibile & 2\\
		C2 & Rimozione spazio & In qualità di owner, devo essere in grado di rimuovere uno spazio esistente & 2\\
		C3 & Visualizzazione spazi & In qualità di organizzatore, devo essere in grado di visualizzare gli spazi disponibili & 3\\
		\bottomrule
	\end{tabular}
	\caption{User stories relative all'epica "spazi".}
	\label{tab:spazi}
\end{table}



\begin{table}[!htb]
	\centering
	\begin{tabular}{clp{7cm}l} % Use 'p{7cm}' for the User Story column
		\toprule
		\multicolumn{4}{c}{\textbf{Mappa}}\\ \midrule
		Id & Nome & User Story & Priorità \\ \midrule
		D1  & Esplorazione mappa      & In qualità di utente, devo essere in grado di muovermi nella mappa per visualizzare gli eventi                           & 1 \\
%		D2  & Aggiunta luogo          & In qualità di owner, devo essere in grado di aggiungere un nuovo luogo alla mappa                                        & \\
		\bottomrule
	\end{tabular}
	\caption{User stories relative all'epica "mappa".}
	\label{tab:mappa}
\end{table}

\newpage
\section{User Flow}

Di seguito sono riportati i diagrammi di flusso rappresentanti gli user flow corrispondenti ad una serie di user stories. La notazione utilizzata nelle descrizioni si riferisce a quella riportata nelle Tabelle \ref{tab:profili}, \ref{tab:eventi}, \ref{tab:spazi} e \ref{tab:mappa}.

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.7\linewidth]{./images/A1-A2-A3.pdf}
	\caption{User Flowchart relativo alle user stories A1, A2 e A3.}
	\label{fig:A1-A2}
\end{figure}

\newpage 

\begin{figure}[!htb]
	\centering
	\includegraphics[width=\linewidth]{./images/B1-B2-B4-B8-D1.pdf}
	\caption{User Flowchart relativo alle user stories B1, B2, B4, B8 e D1.}
	\label{fig:B1-C1}
\end{figure}


\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.8\linewidth]{./images/B5.pdf}
	\caption{User Flowchart relativo alla user story B5.}
	\label{fig:B5}
\end{figure}

\newpage  

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.8\linewidth]{./images/C1-C2.pdf}
	\caption{User Flowchart relativo alle user stories C1 e C2.}
	\label{fig:C1-C2}
\end{figure}

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.8\linewidth]{./images/B3-B6-B7-C3.pdf}
	\caption{User Flowchart relativo alle user stories B3, B6, B7 e C3.}
	\label{fig:B3-B6-B7-C3}
\end{figure}

\newpage
\section{Web APIs}
\newpage

\section{Implementation}
\subsection{Repository Implementation}

Il codice del progetto, disponibile su \href{https://github.com/rtogni00/IS_Progetto}{GitHub}, è organizzato secondo questo schema:

\begin{verbatim}
.
+-- D1
+-- D2
+-- D3
+-- D4
+-- front_end
|   +-- index.html
|   +-- pages
+-- node_app
|   +-- app.js
|   +-- authentication.js  // middleware per l'autenticazione
|   +-- clearDB.js  // funzione ausiliaria utilizzata durante lo sviluppo
|   +-- .env.example // esempio di file di configurazione delle
|   |                // variabili d'ambiente
|   +-- index.js
|   +-- models // modelli dati mongoose
|   +-- package.json  // file di configurazione del progetto npm
|   +-- package-lock.json
|   +-- routes  // endpoint routes per le APIs
|   +-- tokenChecker.js
+-- README.md
|   +-- .gitignore // configurazione git repo
+-- swagger
    +-- evenTrentoAPIs.yaml // documentazione API
\end{verbatim}


\subsection{Branching strategy e organizzazione del lavoro}

Malgrado i propositi di collaborazione iniziali, verso la fine del mese di
settembre ho preso la decisione di proseguire lo sviluppo in modo individuale.
Come facilmente osservabile dalla commit history del progetto, il contributo
degli altri due membri del gruppo è limitato al processo di brainstorming e
alla realizzazione di alcuni grafici relativi allo User Flow. Tali grafici non
sono presenti nella versione finale del presente documento a causa della loro
modifica nel corso dello sviluppo dell'applicazione. Una descrizione dettagliata
delle statistiche finali è riportata in Figura \textbf{TODO}.



\begin{verbatim}
git log --format='%aN <%aE>' | sort | uniq -c | sort -nr
\end{verbatim}



\subsection{Dependencies}

Il progetto npm fa uso dei seguenti moduli:
\begin{itemize}
    \item \textbf{Cors} per il supporto alle chiamate cross-origin
    \item \textbf{Express} come framework per il backend
    \item \textbf{Jsonwebtoken} per gestire l'autenticazione
    \item \textbf{Mongoose} per interfacciarsi con mongoDB
\end{itemize}

Sono inoltre riportate le seguenti dipendenze di sviluppo:
\begin{itemize}
    \item \textbf{Dotenv} per la gestione delle variabili d'ambiente
    \item \textbf{TODO}
\end{itemize}

\subsection{Database}

La gestione dei dati è stata realizzata basandosi su un database non
relazionale. In particolare, si è fatto uso del servizio offerto da
\href{https://www.mongodb.com/products/platform/atlas-database}{Atlas MongoDB}.

\newpage
\subsection{Testing}

\textbf{TODO}

\section{Front-End}

\section{Deployment}

	
\end{document}
